<mat-form-field [class]="className">
  <mat-label>{{ label }}{{ optional ? ' (optional)' : '' }}</mat-label>
  @if (isSelect) {
    <mat-select [formControl]="control">
      @for (option of selectOptions; track option.value) {
        <mat-option [value]="option.value">
          {{ option.label }}
        </mat-option>
      }
    </mat-select>
  } @else if (isTextarea) {
    <textarea matInput [formControl]="control"></textarea>
  } @else {
    <input [class.footer]="isInFooter" matInput [formControl]="control" [type]="inputType" />
  }

  @if (control.touched) {
    <mat-error>
      @for (error of getErrorMessages(); track error) {
        <span>{{ error }}</span>
      }
    </mat-error>
  }
</mat-form-field>
