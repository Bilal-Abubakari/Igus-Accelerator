<main>
  <app-model-upload
    (modelUploaded)="onModelUploaded($event)"
  ></app-model-upload>

  @if (uploadedModels.length) {
    <div class="model_list">
      @for (model of uploadedModels; track model.url) {
        <mat-card class="model_card">
          <app-model-viewer [modelUrl]="model.url"></app-model-viewer>
          <mat-card-header>
            <mat-card-title>{{ model.name | slice: -20 }}</mat-card-title>
            <mat-card-subtitle>
              <mat-icon class="status_icon">cloud_done</mat-icon>
              <span>{{ 'modellist.UPLOADED' | transloco }}</span>
            </mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <div class="card_footer">
              <span class="material_badge">{{ model.material }}</span>
              <span class="date">{{ model.uploadDate | date: 'short' }}</span>
            </div>
          </mat-card-content>
        </mat-card>
      }
    </div>
  } @else {
    <div class="placeholder_message">
      <img src="empty_state.svg" alt="empty state" />
      <p>
        {{ 'modellist.NO_UPLOADS' | transloco }}
      </p>
    </div>
  }
</main>
