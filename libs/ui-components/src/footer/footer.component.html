<mat-toolbar>
  <footer>
    <form [formGroup]="ratingForm" class="form-group">
      <section class="contact-us">
        <h4>Contact us</h4>
        <div class="contact">
          <div class="contact__tel">
            <p>accelerator modeling configurator® GmbH</p>
            <a [href]="'tel:+4922039649145'">+49 2203 9649 145</a>
          </div>
          <button mat-button class="custom-button">Write a message</button>
        </div>
      </section>

      @if (!isSubmitted()) {
        <section class="rating-container">
          <div class="rating-container__wrapper">
            <h4>Please rate this configurator</h4>
            <div class="rating-stars">
              @for (star of [1, 2, 3, 4, 5]; track $index) {
                <mat-icon
                  [class.filled]="
                    $index + 1 <= (hoveredRating() || selectedRating())
                  "
                  [class.hovered]="$index + 1 <= hoveredRating()"
                  (mouseenter)="onMouseEnter($index + 1)"
                  (mouseleave)="onMouseLeave()"
                  (click)="onClick($index + 1)"
                  (keydown)="onClick($index + 1)"
                  aria-hidden="false"
                  aria-label="Rate"
                  [title]="$index + 1"
                >
                  star
                </mat-icon>
              }
            </div>
            <mat-form-field class="form-input">
              <textarea
              [formControl]="getField('comment')"
                matInput
                placeholder="What can we improve?"
              ></textarea>
            </mat-form-field>
          </div>
          @if (isRatingLoading()) {
            <div class="spinner-container">
              <mat-spinner [diameter]="20" [strokeWidth]="2"></mat-spinner>
            </div>
          } @else {
            <button
              mat-button
              [disabled]="ratingForm.invalid"
              class="custom-button submit-rating-button"
              (click)="submitFeedback()"
            >
              Submit rating
            </button>
          }
        </section>
      } @else {
        <div>
          <app-thank-you-feedback />
        </div>
      }
    </form>
    <span
      >&copy; {{ currentYear }} accelerator modeling configurator® GmbH</span
    >
  </footer>
</mat-toolbar>
