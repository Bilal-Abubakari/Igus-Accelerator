<main>
  @if (material$ | async; as material) {
    <header [style.backgroundColor]="material.colorhex">
      {{ material.name }}
    </header>

    <mat-dialog-content>
      <h3>General Properties</h3>
      <div class="properties_grid">
        <div class="key">Density:</div>
        <div class="value">{{ material.density }} g/cm³</div>

        <div class="key">Colour:</div>
        <div class="value">{{ material.color }}</div>

        <div class="key">Max. moisture absorption:</div>
        <div class="value">{{ material.maxmoistureabsorption }} %</div>

        <div class="key">Max. water absorption:</div>
        <div class="value">{{ material.maxwaterabsorption }} %</div>
      </div>

      <h3>Mechanical Properties</h3>
      <div class="properties_grid">
        <div class="key">Flexural modulus:</div>
        <div class="value">{{ material.modulusofelasticity }} MPa</div>

        <div class="key">Flexural strength:</div>
        <div class="value">{{ material.bendingstrength }} MPa</div>

        <div class="key">Maximum surface pressure:</div>
        <div class="value">{{ material.maxsurfacepressure }} MPa</div>

        <div class="key">Shore D hardness:</div>
        <div class="value">{{ material.hardness }}</div>
      </div>

      <h3>Thermal Properties</h3>
      <div class="properties_grid">
        <div class="key">Max. long-term temperature:</div>
        <div class="value">{{ material.maxtemperature }} °C</div>

        <div class="key">Max. short-term temperature:</div>
        <div class="value">{{ material.maxtemperatureshort }} °C</div>

        <div class="key">Max. environmental temp.:</div>
        <div class="value">
          {{ material.maxenvironmentaltemperatureshort }} °C
        </div>

        <div class="key">Min. temperature:</div>
        <div class="value">{{ material.mintemperature }} °C</div>
      </div>

      <h3>Electrical Properties</h3>
      <div class="properties_grid">
        <div class="key">Specific transitional resistance:</div>
        <div class="value">{{ material.specificvolumeresistance }}</div>

        <div class="key">Surface resistance:</div>
        <div class="value">{{ material.surfaceresistance }}</div>
      </div>

      <h3>Food Industry Compliance</h3>
      <div class="properties_grid">
        <div class="key">FDA-compliant:</div>
        <div class="value">
          {{ material.foodcontactfdacompliant ? 'Yes' : 'No' }}
        </div>

        <div class="key">EU compliance:</div>
        <div class="value">
          {{ material.foodcontacteucompliant ? 'Yes' : 'No' }}
        </div>
      </div>

      <h3>Additional Properties</h3>
      <div class="properties_grid">
        <div class="key">Underwater use:</div>
        <div class="value">
          {{ material.underwatercompliant ? 'Yes' : 'No' }}
        </div>

        <div class="key">Dirt resistance:</div>
        <div class="value">{{ material.dirtresistant ? 'Yes' : 'No' }}</div>

        <div class="key">Mould resistance:</div>
        <div class="value">{{ material.mouldresistant ? 'Yes' : 'No' }}</div>
      </div>

      <h3>Chemical Resistance</h3>
      <div class="properties-grid">
        @for (chemical of material.chemicals; track chemical.name) {
          <div class="key">{{ chemical.name }}:</div>
          <div
            class="value resistance-{{
              getResistanceClass(chemical.resistance || '')
            }}"
          >
            {{ chemical.resistance }}
          </div>
        }
      </div>
    </mat-dialog-content>

    <mat-dialog-actions align="end">
      <button mat-button type="button" (click)="close()">Close</button>
    </mat-dialog-actions>
  }
</main>
