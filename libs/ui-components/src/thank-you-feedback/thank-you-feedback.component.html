<main class="feedback-container">
  @if (!isSubmitted()) {
    <h4>Thank you for your feedback!</h4>
    <p>We would like to learn more about your ideas. May we contact you?</p>
    <form [formGroup]="contactForm">
      <mat-form-field appearance="outline" class="email-input">
        <input
          matInput
          type="email"
          placeholder="E-mail"
          [formControl]="getField('email')"
        />
        @if (contactForm.get('email')?.hasError('email')) {
          <mat-error> Please enter a valid email address </mat-error>
        }
      </mat-form-field>
      <button mat-button [disabled]="!contactForm.valid" class="custom-button"
      (click)="onSubmitEmail()"
      >
        Submit
      </button>
    </form>
    <p class="privacy-notice">
      By clicking "Submit", you agree to the processing of your personal data.
      You can withdraw this consent at any time. Read our
      <a routerLink="#">Privacy Policy</a> for more information.
    </p>
  } @else {
    <div class="success-container">
      <h2>Thank you for your feedback!</h2>
      <div class="feedback-image">
        <img
          src="thank-you.png"
          alt="thank you"
          class="success-image"
        />
      </div>
    </div>
  }
</main>
